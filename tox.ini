[tox]
isolated_build = True

envlist =
    py37
    py38
    py39
    py310
    py311
    py312

basepython =
    py310: python3.10
    py311: python3.11
    py312: python3.12

[gh-actions]
python =
    3.7: py37
    3.8: py38
    3.9: py39
    3.10: py310
    3.11: py311
    3.12: py312

[testenv]
deps =
    poetry

whitelist_externals =
    poetry

commands =
    poetry install -v
    poetry run pytest -x -s -v --cov=. --cov-config=.coveragerc --cov-append --cov-report=term --isort --flake8 {posargs}

[testenv:py312]
download = true
commands =
    poetry install -v
    poetry run pytest -x -s -v --cov=. --cov-config=.coveragerc --cov-append --cov-report=term --isort --flake8 {posargs}
